!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutValidation=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function r(){var e={},t=!1,a=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],a++);a<arguments.length;a++){i=void 0;var i,o=arguments[a];for(i in o)o.hasOwnProperty(i)&&(t&&"[object Object]"===Object.prototype.toString.call(o[i])?e[i]=r(e[i],o[i]):e[i]=o[i])}return e}function u(e){return!(!e||!y.alwaysValidateFieldsSelector)&&!!e.matches(y.alwaysValidateFieldsSelector)}function t(e,t){return!!t.matches(y.typeRequiredSelector)}function a(e,t){return p.hasValue(e)?{valid:!0}:{valid:!1,message:y.validationMessages.required}}function i(e,t){return!!t.matches(y.typeEmailSelector)}function o(e,t){return!p.hasValue(e)||new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e.value)?{valid:!0}:{valid:!1,message:y.validationMessages.email}}function n(e,t){return!!t.querySelector(y.typeConfirmationSelector)}function l(e,t){return p.hasValue(e)?(t=(t=t.closest("form"))?t.querySelector(e.getAttribute("data-confirm-with")):null)&&e.value==t.value?{valid:!1,message:y.validationMessages.confirmation}:{valid:!0}:{valid:!1}}function s(e,t){return!!t.matches(y.typeShippingMethodSelector)}function c(e,t){return t.querySelector('input[type="radio"]:checked')?{valid:!0}:{valid:!1,message:y.validationMessages.required}}function d(e,t,a){for(var i=!0,o=Object.getOwnPropertyNames(a),r=0;r<o.length;r++){var n=o[r],l=h[n],u=a[n].valid,n=a[n].message,s=l.invalidClass;F=d=void 0;for(var c=s,d=t.querySelectorAll("span.woocommerce-error.invalid-"+c),F=0;F<d.length;F++)d[F].parentNode.removeChild(d[F]);t.classList.toggle(y.invalidClass+"-"+l.invalidClass,!0!==u),!0!==u&&(i=!1,c=n,l=s,n=u=void 0,(s=e)&&c&&0!=c.length&&(x(u=s)&&(n=s.parentNode.querySelector(".select2-container"))&&(u=n),n=s.parentNode,(s=document.createElement("span")).className="woocommerce-error invalid-"+l,s.innerText=c,n.insertBefore(s,u.nextSibling)))}return t.classList.toggle(y.validClass,i),t.classList.toggle(y.invalidClass,!i),i}function F(e,t,a){g&&v(a).toArray().forEach(function(e){Array.from(e.querySelectorAll(y.clearValidationCountryChangedSelector)).forEach(function(e){var t;""==e.value&&(t=e.closest(y.formRowSelector),p.clearValidationResults(e,t))})})}function f(e){var t=e.target;x(e.target)&&(t=e.target.closest(y.formRowSelector).querySelector("select")),p.validateField(t)}var v=jQuery,m=!1,g=null!=v,p={},h={},y={bodyClass:"fc-checkout-validation--active",formSelector:"form.checkout",formRowSelector:".form-row, .shipping-method__package",validateFieldsSelector:".input-text, select, .shipping-method__options",clearValidationCountryChangedSelector:"#state, #shipping_state, #billing_state",alwaysValidateFieldsSelector:"",select2Selector:".select2, .select2-hidden-accessible",typeRequiredSelector:".validate-required",typeEmailSelector:".validate-email",typeConfirmationSelector:"[data-confirm-with]",typeShippingMethodSelector:".shipping-method__package",validClass:"woocommerce-validated",invalidClass:"woocommerce-invalid",validationMessages:{required:"This is a required field.",email:"This is not a valid email address.",confirmation:"This field does not match the related"}},x=function(e){return!!e.closest(y.select2Selector)};p.hasValue=function(e){return e.matches("select")?!!(e.options&&-1<e.selectedIndex&&""!=e.options[e.selectedIndex].value):""!=e.value};return p.clearValidationResults=function(e,t){if(e&&t){for(var a=Object.keys(h),i=0;i<a.length;i++){var o=a[i];t.classList.remove(y.invalidClass+"-"+o)}t.classList.remove(y.validClass),t.classList.remove(y.invalidClass)}},p.validateField=function(e,t){if(!e)return!0;var a={},i=function(e){if(e)return e.closest(y.formRowSelector)}(e);if(!i)return!0;if(!u(e)&&!0!==t&&null===e.offsetParent)return!0;if(!function(e,t){if(u(e))return!0;for(var a=Object.getOwnPropertyNames(h),i=0;i<a.length;i++){var o=a[i];if(h[o].needsValidation(e,t))return!0}return!1}(e,i))return!0;for(var o=Object.getOwnPropertyNames(h),r=0;r<o.length;r++){var n=o[r],l=h[n];l.needsValidation(e,i)&&(a[n]=l.validate(e,i))}return d(e,i,a)},p.validateAllFields=function(e,t){for(var a=!0,i=(e=e||document.querySelector(y.formSelector)).querySelectorAll(y.validateFieldsSelector),o=0;o<i.length;o++)p.validateField(i[o],t)||(a=!1);return a},p.registerValidationType=function(e,t,a,i){return!!h&&("string"==typeof e&&"string"==typeof t&&(a instanceof Function&&i instanceof Function&&(h.hasOwnProperty(e)?(console.log('Validation type "'+e+'" already registered.'),!1):(h[e]={invalidClass:t,needsValidation:a,validate:i},!0))))},p.getValidationTypes=function(){return h},p.init=function(e){m||(y=r(y,e),p.registerValidationType("required","required-field",t,a),p.registerValidationType("email","email",i,o),p.registerValidationType("confirmation","confirmation-field",n,l),p.registerValidationType("shipping-method","shipping-method-field",s,c),g&&(v(y.formSelector).on("input validate change",y.validateFieldsSelector,f),v(document).on("load_ajax_content_done",p.init),v(document).on("country_to_state_changed",F)),document.body.classList.add(y.bodyClass),m=!0)},p});
//# sourceMappingURL=maps/checkout-validation-160.min.js.map
