!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutSteps=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function l(){var e={},t=!1,s=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],s++);s<arguments.length;s++){o=void 0;var o,r=arguments[s];for(o in r)r.hasOwnProperty(o)&&(t&&"[object Object]"===Object.prototype.toString.call(r[o])?e[o]=l(e[o],r[o]):e[o]=r[o])}return e}function q(e){var t,s;e&&(s=e.querySelector(_.substepFieldsSelector),t=e.querySelector(_.substepTextSelector),CollapsibleBlock.collapse(s),CollapsibleBlock.expand(t),e.classList.remove(_.isEditingClass),(s=e.querySelector(_.substepEditButtonSelector))&&s.focus())}function B(e){E&&w(e).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function t(e,t){if(t&&t.fragments)for(var s in t.fragments){s=document.querySelector(s);s&&s.classList.remove(_.isLoadingClass)}}function s(e,t){for(var s=document.querySelectorAll(_.substepSelector),o=0;o<s.length;o++){var r=s[o],l=r.querySelector(_.substepEditableStateFieldSelector),l=(l&&"no"===l.value?r.setAttribute(_.substepEditableStateAttribute,l.value):r.removeAttribute(_.substepEditableStateAttribute),r.querySelector(_.substepVisibleStateFieldSelector));l&&"no"===l.value?r.setAttribute(_.substepVisibleStateAttribute,l.value):r.removeAttribute(_.substepVisibleStateAttribute)}}function o(e){e.defaultPrevented||e.key!=a.ENTER&&e.key!=a.SPACE||!e.target.closest(_.substepEditButtonSelector)&&!e.target.closest(_.substepSaveButtonSelector)||d(e)}function r(){window.addEventListener("click",d),document.addEventListener("keydown",o,!0),E&&(w(document.body).on("updated_checkout",s),w(document.body).on("updated_checkout",t)),document.body.classList.add(_.bodyClass),c=!0}var w=jQuery,E=null!=w,c=!1,i={},_={bodyClass:"has-fc-checkout-steps",bodyClassActiveStepPattern:"fc-checkout-step--active-{ID}",wrapperSelector:".fc-wrapper",progressBarSelector:".fc-progress-bar",progressBarCurrentSelector:".fc-progress-bar__current-step",progressBarItemSelector:".fc-progress-bar__bar",stepsWrapperSelector:".fc-checkout-steps",stepSelector:".fc-checkout-step",currentStepSelector:"[data-step-current]",nextStepSelector:"[data-step-current] ~ .fc-checkout-step",nextStepButtonSelector:"[data-step-next]",focusableElementsSelector:'a[role="button"], a[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled]), details, summary, iframe, object, embed, [contenteditable] [tabindex]:not([tabindex="-1"])',substepSelector:".fc-step__substep",substepTextContentSelector:".fc-step__substep-text-content",substepFieldsSelector:".fc-step__substep-fields",substepTextSelector:".fc-step__substep-text",substepEditButtonSelector:"[data-step-edit]",substepSaveButtonSelector:"[data-step-save]",expansibleSectionToggleSelector:"[data-expansible-section-toggle]",expansibleSectionExpandAttribute:"data-expansible-section-expand",expansibleSectionCollapseAttribute:"data-expansible-section-collapse",stepCompleteAttribute:"data-step-complete",stepCurrentAttribute:"data-step-current",stepIndexAttribute:"data-step-index",isEditingClass:"is-editing",isLoadingClass:"is-loading",isCurrentClass:"is-current",isCompleteClass:"is-complete",stepNextIncompleteClass:"fc-checkout-step--next-step-incomplete",substepEditableStateFieldSelector:'.fc-substep-editable-state[type="hidden"]',substepEditableStateAttribute:"data-substep-editable",substepVisibleStateFieldSelector:'.fc-substep-visible-state[type="hidden"]',substepVisibleStateAttribute:"data-substep-visible",invalidFieldRowSelector:".woocommerce-invalid .input-text, .woocommerce-invalid select",scrollOffsetSelector:".fc-checkout-header",scrollBehavior:"smooth",scrollOffset:0},a={ENTER:"Enter",SPACE:" "},n=function(e){var t,s;e&&(t=e.querySelector(_.substepFieldsSelector),s=e.querySelector(_.substepTextSelector),CollapsibleBlock.expand(t),CollapsibleBlock.collapse(s),e.classList.add(_.isEditingClass))},u=function(e){var t;e&&(window.CheckoutValidation&&!CheckoutValidation.validateAllFields(e)?(t=e.querySelector(_.invalidFieldRowSelector))&&t.focus():(q(e),E&&(t=e.querySelector(_.substepTextContentSelector),B(t),w(".woocommerce-error, .woocommerce-message").remove(),w(document.body).trigger("update_checkout"))))},p=function(e){if(e)if(window.CheckoutValidation&&!CheckoutValidation.validateAllFields(e))(l=e.querySelector(_.invalidFieldRowSelector))&&l.focus();else{e.setAttribute(_.stepCompleteAttribute,"");for(var t=e.querySelectorAll(_.substepSelector),s=0;s<t.length;s++){var o=t[s],r=o.querySelector(_.substepTextContentSelector);r&&(r.classList.add(_.isLoadingClass),B(r)),q(o)}for(var l=e.parentElement.querySelector(_.nextStepSelector),c=(l.setAttribute(_.stepCurrentAttribute,""),e.removeAttribute(_.stepCurrentAttribute),(n=document.querySelector(_.stepsWrapperSelector))?Array.from(n.querySelectorAll(_.stepSelector)):[]),i=c.indexOf(e),s=0;s<c.length;s++)s<i&&c[s].classList.remove(_.stepNextIncompleteClass);if(n=document.querySelector(_.currentStepSelector)){var a=parseInt(n.getAttribute(_.stepIndexAttribute)),a=isNaN(a)?-1:a,n=document.querySelector(_.progressBarSelector);if(n){for(var u=n.querySelectorAll(_.progressBarItemSelector),p=u.length,d=0;d<u.length;d++){var b=u[d],S=parseInt(b.getAttribute(_.stepIndexAttribute));(S=isNaN(S)?-1:S)==a?b.classList.add(_.isCurrentClass):b.classList.remove(_.isCurrentClass),S<=a?b.classList.add(_.isCompleteClass):b.classList.remove(_.isCompleteClass)}var f=(f=a+1)<=p?f:p,p=n.querySelector(_.progressBarCurrentSelector);p&&(p.innerText=f)}}var n=e,g=0,p=document.querySelector(_.progressBarSelector);if(p&&(g+=p.getBoundingClientRect().height),window.StickyStates){var v=document.querySelectorAll(_.scrollOffsetSelector);if(v&&0<v.length)for(var m=0;m<v.length;m++){var y=v[m];StickyStates.isStickyPosition(y)&&(g+=y.getBoundingClientRect().height)}}var C=function(e,t){for(var s=0;e&&(!t||t!=e);)s+=e.offsetTop,e=e.offsetParent;return s}(n)+-1*_.scrollOffset+-1*g;requestAnimationFrame(function(){window.scrollTo({top:C,behavior:_.scrollBehavior})});for(var h,A=null,x=Array.from((l||document).querySelectorAll(_.focusableElementsSelector)),s=0;s<x.length;s++){var k=x[s];if(!!((h=k).offsetWidth||h.offsetHeight||h.getClientRects().length)){A=k;break}}A&&A.focus(),E&&w(document.body).trigger("update_checkout")}},d=function(e){var t,s;e.target.closest(_.nextStepButtonSelector)?(e.preventDefault(),t=e.target.closest(_.stepSelector),p(t)):e.target.closest(_.substepEditButtonSelector)?(e.preventDefault(),s=e.target.closest(_.substepSelector),n(s)):e.target.closest(_.substepSaveButtonSelector)&&(e.preventDefault(),s=e.target.closest(_.substepSelector),u(s))};return i.init=function(e){c||(_=l(_,e),window.CollapsibleBlock?r():window.RequireBundle&&RequireBundle.require(["collapsible-block"],function(){r()}))},i});
//# sourceMappingURL=maps/checkout-steps-160-beta-5.min.js.map
